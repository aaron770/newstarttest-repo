<!DOCTYPE html>
<html>
<head>
  <title>My first questionair page</title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>

<body>
<form>
<ul class="question-list">
<LH id="que"></LH>

<input type="button" id="jqtest" value="Start test">
</div>
<input type="button" value="got correct"  onclick= "alert(gotCorrect)">
</div>
</ul>
</form> 


<script type="text/javascript">


var allQuestions = [{question: "Who is Prime Minister of the United Kingdom?", choices: ["David Cameron", "Gordon Brown", "Winston Churchill", "Tony Blair"], correctAnswer:0},
{question: "Why are mohel so poor?", choices: ["They make there money off of tips.", "People get angry at them when they try to make to much of a cut.", "They deal in too small products.", "Not enough people want to get circumsized."], correctAnswer:3},
{question: "What is the worst thing a mohel can say?", choices: ["Oops.", "don’t worry this is nothing plastic surgery cant fix.", "I hope you wanted a little girl.", "Don’t worry I’v made this mistake many times."], correctAnswer:3},
{question: "What are the benefits of having a circumcision?", choices: ["Reduced risk of urinary tract infections.", "Reduced risk of cancer for men and there partners.", "prevents balanitis, phimosis.", "All of the above."], correctAnswer:3},
{question: "What are the risks of circumsision?", choices: ["Pain.", "Bleeding.", "Meatiti.", "All of the above."], correctAnswer:3},
{question: "When is the best time to have a circumcision?", choices: ["When someone is fully grown so they can make a decision.", "When someone is an adult it is healthier", "Within the first few days a child is born or the procedure becomes more complicated and riskier"], correctAnswer:2},
{question: "How long does it take to recover?", choices: ["It takes a year until newborns can start walking again.", "A long time to get rid of the limp.", "You will always be missing something", "Everyone is different and it depends on the exact procedure but on average 7-10 days. "], correctAnswer:3},
{question: "What are the different types of circumcision?", choices: ["Dorsal slit technique.", "Clamp or Shield.", "Sleeve excision.", "All of the above. "], correctAnswer:3},
{question: "What are the different types of circumcision?", choices: ["Dorsal slit technique.", "Clamp or Shield.", "Sleeve excision.", "All of the above."], correctAnswer:3},
{question: "Why some people prefer using a mohel?", choices: ["Some are more experienced then a lot of doctors  resulting in a more cosmetic, heathier and quicker procedure.", "Religious reasons", "Parents want to have the feeling of a traditional religious atmosphere.", "All of the above."], correctAnswer:3}
];

$(document).ready(function(){
    $('#jqtest').click(function() {
    	newQuestion();
    	changeQuestionValue();
});
});

function changeQuestionValue() {
     $('#jqtest').val("Next question");
}

var currentQuestion = 0;
var gotCorrect = 0;
var currentChoise;
	
var correct = allQuestions[currentQuestion].correctAnswer;
var test = document.getElementsByName("radio");
var sizes = test.length;
var testCreated;


function checkOldQuestionIfCorrect () {
	if (typeof testCreated !== 'undefined') {
		if (test[correct].checked == true) {
		     gotCorrect++;
		     alert("that is correct");		         
		} else {
		     alert('that is incorrect');
		};
	};
	testCreated = 1;
	//needs to change before the value of next question changes to check previous question
	correct = allQuestions[currentQuestion].correctAnswer
};

function changeQuestion () {
	$('#que').append(
	  $('<div/>')
	    .attr("id", "nowQuestion")
	    .addClass("")
	    .append("<span/>")
	      .text(allQuestions[currentQuestion].question)
	);
};

function changeChoice () {
	for (currentChoise= 0 ;currentChoise < allQuestions[currentQuestion].choices.length;currentChoise++) {
		var $ul    = $("<ul>");
		var $input = $("<input>",{type:"radio", name:"radio",id:"choice-" + currentChoise});
		var $label = $("<label>", {for: "choice" + currentChoise});
		var $span =  $("<span>").html(allQuestions[currentQuestion].choices[currentChoise]);
		$label.append($span);
		$($ul).append($input, $label);
		$("#que").append($ul);
	};
}

function newQuestion() {
    
	checkOldQuestionIfCorrect();
    
	$("#que").empty();

	changeQuestion ();
	
    changeChoice();
 
	currentQuestion++;
};

</script>
</body>